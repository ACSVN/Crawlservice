var GHB_Config;!function(e){var t=function(){function e(){}return e.CHANNEL_USER_ID_KEY="__ghsuid",e.DOMAIN="clt.gh-base.com",e.VERSION="v1",e.DEBUG="false",e}();e.Config=t}(GHB_Config||(GHB_Config={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},GHB_Action;!function(e){var t=function(){function e(){}return e}();e.Action=t;var r=function(e){function t(){e.apply(this,arguments),this.type="pv"}return __extends(t,e),t}(t);e.Pv=r;var n=function(e){function t(){e.apply(this,arguments),this.type="ev"}return __extends(t,e),t}(t);e.Event=n;var o=function(e){function t(){e.apply(this,arguments),this.type="rv"}return __extends(t,e),t}(t);e.Revenue=o;var a=function(){function e(){}return e}();e.ReveneueItem=a}(GHB_Action||(GHB_Action={}));var GHB_Utils;!function(e){var t=function(){function e(){}return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"==e?t:3&t|8;return r.toString(16)})},e.isUUIDFormat=function(e){return/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/.test(e)},e.getCurrentDateTimeUTC=function(){return e.formatDateTimeUTC(new Date)},e.formatDateTimeUTC=function(e){return e.getUTCFullYear()+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+("0"+e.getUTCDate()).slice(-2)+"T"+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)+"Z"},e.getISOLanguageCode=function(){return e.selectISOLanguageCode([navigator.language,navigator.systemLanguage,navigator.browserLanguage])},e.selectISOLanguageCode=function(e){for(var t in e)if(e[t]&&e[t].length>=2)return e[t].substring(0,2);return null},e.getISOCountryCode=function(){return e.selectISOCountryCode([navigator.language,navigator.systemLanguage,navigator.browserLanguage])},e.selectISOCountryCode=function(e){for(var t in e)if(e[t]&&e[t].length>=5)return e[t].substring(3,5).toUpperCase();return null},e}();e.Utils=t}(GHB_Utils||(GHB_Utils={}));var GHB_Helper;!function(e){var t=GHB_Config.Config,r=GHB_Utils.Utils,n=function(){function e(){}return e.send=function(r,n){var o=document.createElement("img");o.style.cssText="width:0px;height:0px;visibility:hidden;display:none;";var a="//"+t.DOMAIN+"/web/"+GHB_Config.Config.VERSION+"/";switch(r.type){case"ev":a+="event?";break;case"rv":a+="revenue?";break;default:a+="pv?"}a+=e.createQueryParameter(n),o.src=a,document.getElementsByTagName("body")[0].appendChild(o)},e.createQueryParameter=function(e){var t="";for(var r in e)t+=r+"="+encodeURIComponent(e[r])+"&";return t},e.getOrCreateChannelUserId=function(){var n,o=e.getQueryParameter(t.CHANNEL_USER_ID_KEY),a=e.getCookieParameter(t.CHANNEL_USER_ID_KEY);if(o&&r.isUUIDFormat(o)&&o!==a&&(e.setCookieParameter(t.CHANNEL_USER_ID_KEY,o),a=o),n=a,!n){var n=r.generateUUID();e.setCookieParameter(t.CHANNEL_USER_ID_KEY,n)}return n},e.getCookieParameter=function(e){var t=document.cookie.indexOf(e);if(t<0)return null;var r=t+e.length+1,n=document.cookie.indexOf(";",r);return n<0&&(n=document.cookie.length),document.cookie.substring(r,n)},e.setCookieParameter=function(e,t){for(var r=0,n=document.domain,o=n.split("."),a="_gd"+(new Date).getTime();r<o.length-1&&document.cookie.indexOf(a+"="+a)==-1;)n=o.slice(-1-++r).join("."),document.cookie=a+"="+a+";domain=."+n+";";document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=."+n+";";var i=31536e4,c=new Date(Date.now()+1e3*i);document.cookie=e+"="+encodeURIComponent(t)+";domain="+n+";max-age="+i+";expires="+c.toUTCString()+";path=/;"},e.getQueryParameter=function(e){var t=window.location.search,r=t.slice(1).split("&");if(0===r.length)return null;var n=r.filter(function(t,r,n){var o=t.split("=");return o[0]===e});return n.length>0?n[0].split("=")[1]:null},e}();e.Helper=n}(GHB_Helper||(GHB_Helper={}));var Config=GHB_Config.Config,GHB_Trace;!function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if("true"==Config.DEBUG&&window.console&&"undefined"!=typeof window.console.log){var r="";e.length>0&&(r=e.join(", ")),console.log(r)}}e.trace=t}(GHB_Trace||(GHB_Trace={}));var GHB_Tracker;!function(e){var t=GHB_Utils.Utils,r=GHB_Helper.Helper,n=function(){function e(e){this.trackCode=e}return e.prototype.start=function(){GHB_Trace.trace("GHB tracker starting..."+this.trackCode);for(var e in _GHB.queue)this.send(_GHB.queue[e]);_GHB.queue=[]},e.prototype.send=function(e){var t=this.createParameterMap(e);r.send(e,t)},e.prototype.createParameterMap=function(e){var n={};switch(n.fired_at=t.getCurrentDateTimeUTC(),n.track_code=this.trackCode,n.key=t.generateUUID(),n.api_version=GHB_Config.Config.VERSION,e.userId&&(n.service_user_id=e.userId),n.language_code=t.getISOLanguageCode()||"",n.country_code=t.getISOCountryCode()||"",n.display_width=screen.width.toString(),n.display_height=screen.height.toString(),n.channel_user_id=r.getOrCreateChannelUserId(),n.cookie_enabled=navigator.cookieEnabled.toString(),n.screen_name=document.title,e.type){case"ev":var o=e;n.event_code=o.code;break;case"rv":var a=e;n.revenue_code=a.code,n.revenue_items=JSON.stringify(a.items)}return e.attrs&&(n.attr_keys=Object.keys(e.attrs).join(","),n.attr_values=Object.keys(e.attrs).map(function(t,r,n){return e.attrs[t]}).join(",")),n.referrer=document.referrer,n},e}();e.Tracker=n}(GHB_Tracker||(GHB_Tracker={}));var GHB_TrackerFactory;!function(e){var t=GHB_Tracker.Tracker,r=function(){function e(){}return e.getTracker=function(e){var r=new t(e);return r},e}();e.TrackerFactory=r}(GHB_TrackerFactory||(GHB_TrackerFactory={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};_GHB.options.trackCode||(GHB_Trace.trace("no tracking code..."),_GHB.options.trackCode="NoTrackingCode");var tracker=GHB_TrackerFactory.TrackerFactory.getTracker(_GHB.options.trackCode);tracker.start();var GHBArray=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var r in e)tracker.send(e[r]);return 0},t}(Array);_GHB.queue instanceof GHBArray||(tracker.start(),_GHB.queue=new GHBArray);